datasource db {  
    provider = "mongodb"
    url = env("DATABASE_URL")
} 
generator client {  
    provider = "prisma-client-js"
} 
model User {  
    id     String   @id @default(auto()) @map("_id") @db.ObjectId  
    name   String
    user_name String 
    email  String   @unique  
    password String
    email_verified Boolean @default(false)
    otp Int?
    otp_created_at DateTime?
    createdAt  DateTime  @default(now())  
    updatedAt  DateTime  @updatedAt
    threads Thread[]
    comments Comment[]
}

model Thread {  
    id     String   @id @default(auto()) @map("_id") @db.ObjectId  
    user   User?   @relation(fields: [user_id], references: [id])
    user_id String? @db.ObjectId 
    heading String 
    content   String
    likes Int
    dislikes Int
    comments Comment[]
}

model Comment {  
    id     String   @id @default(auto()) @map("_id") @db.ObjectId  
    user   User?   @relation(fields: [user_id], references: [id])
    user_id String? @db.ObjectId 
    thread   Thread?   @relation(fields: [thread_id], references: [id])
    thread_id String? @db.ObjectId
        comment   Comment?   @relation(fields: [comment_id], references: [id])
    comment_id String? @db.ObjectId
    heading String 
    content   String
    likes Int
    dislikes Int
    comments Comment[]
}

